<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f4f4; }
  #loginPanel, #adminPanel { max-width: 600px; margin: 50px auto; padding: 20px; background: #fff; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  h2 { text-align: center; }
  input, textarea { width: 100%; padding: 8px; margin: 5px 0 15px; border: 1px solid #ccc; border-radius: 4px; }
  button { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; background: #007BFF; color: white; }
  button:hover { background: #0056b3; }
  .product { border-bottom: 1px solid #ccc; padding: 10px 0; }
  .product img { max-width: 100px; display: block; margin-bottom: 5px; }
  .actions button { margin-right: 5px; background: #28a745; }
  .actions button.delete { background: #dc3545; }
</style>
</head>
<body>

<!-- LOGIN PANEL -->
<div id="loginPanel">
  <h2>Admin Login</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <p id="loginMsg" style="color:red;"></p>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel" style="display:none;">
  <h2>Admin Panel</h2>
  <div>
    <h3>Add / Edit Product</h3>
    <input type="hidden" id="productId">
    <input type="text" id="productName" placeholder="Product Name">
    <input type="number" id="productPrice" placeholder="Price">
    <input type="text" id="productImage" placeholder="Image URL">
    <textarea id="productDesc" placeholder="Description"></textarea>
    <button onclick="saveProduct()">Save Product</button>
  </div>

  <h3>Products List</h3>
  <div id="productList"></div>
</div>

<script>
// ====== CONFIG ======
const adminUsername = "admin"; // change username
const adminPassword = "password123"; // change password

// ====== LOGIN ======
function login() {
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;
  const msg = document.getElementById("loginMsg");

  if(username === adminUsername && password === adminPassword) {
    document.getElementById("loginPanel").style.display = "none";
    document.getElementById("adminPanel").style.display = "block";
    loadProducts();
  } else {
    msg.textContent = "Invalid username or password.";
  }
}

// ====== PRODUCT MANAGEMENT ======
function getProducts() {
  const products = localStorage.getItem("products");
  return products ? JSON.parse(products) : [];
}

function saveProducts(products) {
  localStorage.setItem("products", JSON.stringify(products));
}

function loadProducts() {
  const products = getProducts();
  const list = document.getElementById("productList");
  list.innerHTML = "";
  products.forEach(product => {
    const div = document.createElement("div");
    div.className = "product";
    div.innerHTML = `
      <strong>${product.name}</strong> - $${product.price}<br>
      <img src="${product.image}" alt="${product.name}"><br>
      <p>${product.description}</p>
      <div class="actions">
        <button onclick="editProduct('${product.id}')">Edit</button>
        <button class="delete" onclick="deleteProduct('${product.id}')">Delete</button>
      </div>
    `;
    list.appendChild(div);
  });
}

function saveProduct() {
  const idField = document.getElementById("productId").value;
  const name = document.getElementById("productName").value;
  const price = document.getElementById("productPrice").value;
  const image = document.getElementById("productImage").value;
  const desc = document.getElementById("productDesc").value;

  if(!name || !price) return alert("Name and price are required.");

  const products = getProducts();

  if(idField) {
    // Edit existing
    const index = products.findIndex(p => p.id === idField);
    if(index !== -1) {
      products[index] = { id: idField, name, price, image, description: desc };
    }
  } else {
    // Add new
    const id = Date.now().toString();
    products.push({ id, name, price, image, description: desc });
  }

  saveProducts(products);
  clearForm();
  loadProducts();
}

function editProduct(id) {
  const products = getProducts();
  const product = products.find(p => p.id === id);
  if(!product) return;

  document.getElementById("productId").value = product.id;
  document.getElementById("productName").value = product.name;
  document.getElementById("productPrice").value = product.price;
  document.getElementById("productImage").value = product.image;
  document.getElementById("productDesc").value = product.description;
}

function deleteProduct(id) {
  if(!confirm("Delete this product?")) return;
  const products = getProducts().filter(p => p.id !== id);
  saveProducts(products);
  loadProducts();
}

function clearForm() {
  document.getElementById("productId").value = "";
  document.getElementById("productName").value = "";
  document.getElementById("productPrice").value = "";
  document.getElementById("productImage").value = "";
  document.getElementById("productDesc").value = "";
}

</script>
</body>
</html>
